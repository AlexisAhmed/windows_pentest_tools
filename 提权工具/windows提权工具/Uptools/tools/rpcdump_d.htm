<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<HTML DIR="LTR">
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Rpcdump.exe: RPC Dump</TITLE>

<STYLE TYPE="text/css">
body    { color: #000000;
		background: #FFFFFF;  	
		font-size: 70%;    		
		font-family: Verdana, Arial, Sans Serif; }
h1
		{ font-size: 125%; 
		margin-bottom:" .5em"; clear:both; }
h2
		{ font-size: 110%;  
		margin-top: "1.5em";
		margin-bottom:" .5em"; clear:both; }
h3
		{ font-size: 100%; 
		margin-top: "1.2em";  
		margin-bottom: ".5em"; clear:both; }
h4
		{ font-size: 100%; 
		margin-top: "1.2em";  
		margin-bottom: ".5em"; clear:both; }
p
		{ margin-top:" .6em"; 
		margin-bottom: ".6em"; }
ol
		{ margin-top: ".5em"; 
		margin-bottom: 0; 
		margin-left: "2.1em"; 
		padding-left: "0em";
		margin-right:"2.1em" }
ul
		{ margin-top: ".6em"; 	
		margin-bottom: 0;
		list-style-type: disc;
		margin-left: "1.5em";
		padding-left: "0em";
		margin-right: "1.5em"; }
li
		{ margin-bottom: ".7em"; clear:both; }
p.browse
		{text-align: right;
		margin-top: -.5em;
		margin-bottom: -.5em;}
p.note, p.tip, p.important, p.caution, p.warning
		{ font-weight:bold;
		clear:both; margin-top: "1.2em";
		margin-bottom: "-.4em"; }
p.alert
	{ margin-left: 1.5em; 
	margin-top: -1.em; margin-bottom: -.3em; font-weight: bold } 

p.indent	
		{ margin-left: "1.3em"; }       	
		
p.topics	{font-weight: bold}
p.info		{font-weight: bold}
p.files		{font-weight: bold}
p.syntax	{background: #dddddd;
			margin-top: 1em; 
			margin-bottom: 1em;}
dl		{margin-top: -.5em;}
dt.SyntaxTerm {font-weight: normal}
a.poplink
		{ color: "#000000";
		cursor: "text";
		text-decoration: "none"; }
table
		{ font-size: 100%;
		margin-top: 1em; 
		margin-bottom: 1em; 
		cellpadding: 0.5em; }
		
th
		{ text-align: left;
		background: #dddddd;
		vertical-align: bottom;
		padding: .2em;
		padding-left: .45em;
		padding-right: .5em; }
		
tr
		{ vertical-align: top; }

td
		{ background: #EEEEEE;
		vertical-align: top;
		padding: .2em;
		padding-left: .45em;
		padding-right: .5em; }
</STYLE>



</HEAD>

<BODY>


<H1>Rpcdump.exe: RPC Dump</H1>


<HR>

<P>This command-line tool queries Remote Procedure Call (RPC) endpoints for status and other information on RPC.</P>

<P>RPC Dump interrogates the endpoint mapper database to obtain a list of every registered endpoint. If the <B>/i</B> switch is specified, the tool pings each endpoint to determine if the service that registered the endpoint is listening. After gathering some other statistics, RPC Dump sorts them and outputs the data.</P>

<P>This tool can help to isolate network troubles involving an RPC.</P>

<P CLASS="files">File Required</P>
<UL>
	<LI>Rpcdump.exe</LI>
</UL>

<A NAME="rpcdump_topics"></A>
<P CLASS="topics">RPC Dump Topics</P>
<UL>
<LI><A HREF="#rpcdump_syntax">RPC Dump Syntax</A></LI>
<LI><A HREF="#rpcdump_examples">RPC Dump Examples</A></LI>
</UL>

<A NAME="rpcdump_syntax"></A>
<HR>
<P class="browse"><A HREF="#top">top</A></P>
<H2>RPC Dump Syntax</H2>
<HR>

<P CLASS="syntax"><B>rpcdump</B> [<B>/s</B>] [<B>/v</B>] [<B>/i</B>] [<B>/p</B> <I>protocol</I>] [<b>-?</b>]</P>

<P>Where:</p>

<DL>

<DT CLASS="SyntaxTerm"><B>/s</B></DT>
<DD>specifies the name of the server to interrogate. Defaults to local if not specified.</DD>

<DT CLASS="SyntaxTerm"><B>/v</B></DT>
<DD>runs in verbose mode.</DD>

<DT CLASS="SyntaxTerm"><B>/i</B></DT>
<DD>pings all registered endpoints to determine if the service that registered the endpoint is listening.</DD>

<P><B>Note</B></P>
<UL>
	<LI>This can take a while over slow network links.  RPC Dump is multithreaded to help performance in this area. A status bar displays the progress.
	</LI>
</UL>
<DT CLASS="SyntaxTerm"><B>/p</B> <I>protocol</I></DT>
<DD>is the name for one of the supported transport mechanisms of RPC. The default is ncacn_ip_tcp. Valid protocols include the following:</DD>

<TABLE WIDTH="100%">
<TR>
<TH>Protocol</TH>
<TH>Description</TH>
</TR>
<TR>
<TD>ncacn_np</TD>
<TD>Connection-oriented named pipes</TD>
</TR>
<TR>
<TD>ncacn_mq</TD>
<TD>Datagram connectionless over the Message Queuing server</TD>
</TR>
<TR>
<TD>ncadg_ipx</TD>
<TD>Datagram connectionless IPX</TD>
</TR>
<TR>
<TD>ncacn_spx</TD>
<TD>Connection-oriented SPX	</TD>
</TR>
<TR>
<TD>ncacn_http</TD>
<TD>Connection-oriented TCP/IP using Microsoft Internet Information Services as HTTP proxy.</TD>
</TR>
<TR>
<TD>ncacn_nb_nb</TD>
<TD>Connection-oriented NetBEUI</TD>
</TR>
<TR>
<TD>ncacn_nb_tcp</TD>
<TD>Connection-oriented NetBIOS over TCP</TD>
</TR>
<TR>
<TD>ncacn_nb_ipx</TD>
<TD>Connection-oriented NetBIOS over IPX</TD>
</TR>
<TR>
<TD>ncacn_ip_tcp</TD>
<TD>Connection-oriented TCP/IP</TD>
</TR>
<TR>
<TD>ncacn_at_dsp</TD>
<TD>AppleTalk DSP</TD>
</TR>
<TR>
<TD>ncadg_ip_udp</TD>
<TD>Datagram connectionless UDP/IP</TD>
</TR>
<TR>
<TD>ncacn_vns_spp</TD>
<TD>Connection-oriented Vines SPP transport</TD>
</TR>
<TR>
<TD>ncacn_dnet_nsp</TD>
<TD>Connection-oriented DECnet transport</TD>
</TR>
<TR>
<TD>ncacn_nb_xns</TD>
<TD>Connection-oriented XNS</TD>
</TR>
</TABLE>

<DT CLASS="SyntaxTerm"><B>-?</B></DT>
<DD>displays a command-line syntax screen.</DD>

</DL>

<A NAME="rpcdump_examples"></A>
<HR>
<P class="browse"><A HREF="#top">top</A></P>
<H2>RPC Dump Examples</H2>
<HR>

<H3>Example 1</H3>
<P>In this example, a client is unable to start mail because it cannot connect to the server. You can run RPC Dump on the Microsoft Exchange server to verify that the proper services (such as directory and store) are registered and responding to RPC calls.</P>

<P>In the sample output, the Exchange server has registered its endpoints and is listening for RPC calls.</P>
<P><CODE>rpcdump /s reskit /i</CODE></P>

<PRE><CODE>ncacn_ip_tcp(Connection-oriented TCP/IP)
  172.30.5.86[1526] [f5cc59b4-4264-101a-8c59-08002b2f8426] MS Exchange Directory DRS Interface :YES
  172.30.5.86[1526] [f5cc5a7c-4264-101a-8c59-08002b2f8426] MS Exchange Directory XDS Interface :YES
  172.30.5.86[1526] [f5cc5a18-4264-101a-8c59-08002b2f8426] MS Exchange Directory NSP Interface :YES
  172.30.5.86[1544] [a4f1db00-ca47-1067-b31f-00dd010662da] Exchange Server STORE EMSMDB Interface :YES
  172.30.5.86[1544] [a4f1db00-ca47-1067-b31e-00dd010662da] Exchange Server STORE ADMIN Interface :YES
  172.30.5.86[1544] [89742ace-a9ed-11cf-9c0c-08002be7ae86] Exchange Server STORE ADMIN Interface :YES
  172.30.5.86[1544] [99e64010-b032-11d0-97a4-00c04fd6551d] Exchange Server STORE ADMIN Interface :YES
</CODE></PRE>

<P>Notice that some endpoints might not have a friendly name or annotation. The service that registers the endpoint fills in this field.</P>

<H3>Example 2</H3>
<P>In verbose mode, additional information is displayed, such as version and ComTimeOutValue.</P>
<P><CODE>rpcdump /s reskit /i /v</CODE></P>

<PRE><CODE>ProtSeq:ncacn_np
Endpoint:\pipe\0000011C.001
NetOpt:
Annotation:Exchange Server STORE ADMIN Interface
IsListening:YES
StringBinding:ncacn_np:\\\\RESKIT[\\pipe\\0000011C.001]
UUID:a4f1db00-ca47-1067-b31e-00dd010662da
ComTimeOutValue:RPC_C_BINDING_DEFAULT_TIMEOUT
VersMajor 1  VersMinor 0</CODE></PRE>

</BODY>
</HTML>