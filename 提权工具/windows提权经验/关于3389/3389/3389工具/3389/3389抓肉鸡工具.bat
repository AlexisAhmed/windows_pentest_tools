@echo off
setlocal
:INDEX
cls
color aa
title 3389辅助抓肉鸡                  柔情剑客   
echo            ======================================================
echo                          3389辅助抓肉鸡工具
                         

echo                                  柔情剑客   
echo            ======================================================
echo=================================================================================
echo                      1:WINDOWS XP TCP多线程扫描 
echo                      2:WINDOWS 2000 2003 SYN扫描
echo                      3:3389抓肉鸡辅助工具
echo                      4:退出
echo=================================================================================
:CHO
set choice=
set /p choice=请选择:
if not "%Choice%"=="" set Choice=%Choice:~0,1%
if /i "%choice%"=="1" goto TCP
if /i "%choice%"=="2" goto SYN
if /i "%choice%"=="3" goto INF
if /i "%choice%"=="4" goto BYE
echo 输入错误，请重新输入
goto CHO

:INF
echo=================================================================================
echo                       欢迎大家使用小朱3389辅助抓肉鸡工具
echo             这个工具就是扫3389端口的工具扫完大家用在ips.txt找到肉鸡ip
echo使用步骤1.先用3389抓肉鸡工具.bat扫出3389端口 会自动保存在Result.txt中
echo        3.用3389过滤器.exe 过滤3389若口令 导出 并保存
echo        4.用Radmin.exe连接  连接步骤是连接选项 》》连接到》》填入ip 其他不用 确定

echo               根据自己电脑的WINDOWS版本 选择SYN扫或者TCP扫          
echo=================================================================================
goto CHO


:TCP
echo 在这输入待扫的连续IP段，支持多行 格式：192.168.0.1 192.168.0.255（输入前先把现在这行文字删掉）>ip.txt
start ip.txt
echo=================================================================================
echo 输入完IP后，按任意键开始扫描
echo=================================================================================
pause>nul
for /f "eol= tokens=1,2 delims= " %%i in (ip.txt) do s tcp %%i %%j 3389 1008 /save
for /f "eol=- tokens=1 delims= " %%i in (result.txt) do echo %%i>>s1.txt
for /f "eol=P tokens=1 delims= " %%i in (s1.txt) do echo %%i>>s2.txt
for /f "eol=S tokens=1 delims= " %%i in (s2.txt) do echo %%i>>ips.txt
del s1.txt
del s2.txt
del Result.txt

:TCP1
set choice=
set /p choice=请输入:
if not "%Choice%"=="" set Choice=%Choice:~0,1%
if /i "%choice%"=="Y" goto TCP
if /i "%choice%"=="N" goto BYE
if /i "%choice%"=="B" goto INDEX
echo 输入错误，请重新输入
goto TCP1

:SYN
echo 在这输入待扫的连续IP段，支持多行 格式：192.168.0.1 192.168.0.255（输入前先把现在这行文字删掉）>ip.txt
start ip.txt
echo=================================================================================
echo 输入完IP后，按任意键开始扫描
echo=================================================================================
pause>nul
for /f "eol= tokens=1,2 delims= " %%i in (ip.txt) do s syn %%i %%j 3389 /save
for /f "eol=- tokens=1 delims= " %%i in (result.txt) do echo %%i>>s1.txt
for /f "eol=P tokens=1 delims= " %%i in (s1.txt) do echo %%i>>s2.txt
for /f "eol=S tokens=1 delims= " %%i in (s2.txt) do echo %%i>>ips.txt
del s1.txt
del s2.txt
del Result.txt

echo=================================================================================
echo 按Y重新输入IP，继续抓鸡  按N退出 按B返回
echo=================================================================================
:SYN1
set choice=
set /p choice=请输入:
if not "%Choice%"=="" set Choice=%Choice:~0,1%
if /i "%choice%"=="Y" goto SYN
if /i "%choice%"=="N" goto BYE
if /i "%choice%"=="B" goto INDEX
echo 输入错误，请重新输入
goto SYN1

:BYE
exit